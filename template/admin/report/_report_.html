<!-- admin/report/_report_.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>
        {% block title %}
        Reporte
        {% endblock title %}

    </title>
    <link rel="stylesheet" href="{% static 'css/table.css' %}">
    <link rel="shortcut icon" href="{% static 'img/favicon.png' %}" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/lumen/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</head>

<body>
    <style>
        @media print {
            .table-primary th {
                background-color: #cfe2ff !important;
                /* Azul Bootswatch Lumen */
                color: #000 !important;
            }

            .table-primary td {
                background-color: #e9f3ff !important;
            }

            /* Bordes m√°s visibles */
            /* table.table,
            table.table th,
            table.table td {
                border: 1px solid #333 !important;
            } */

            .btn {
                display: none;
            }

            .cliente {
                display: none;
            }

            /* canvas {
                display: block !important;
            } */
        }

        /* @page {
            size: A4;
            margin: 0.5cm;
            
        } */
        @page {
            size: A4;
            /* Carta */
            margin: 0.5cm;
            /* Ajusta m√°rgenes seg√∫n necesites */
        }

        /* Tama√±o de letra general */
        body {
            font-size: 13px;
            /* prueba 10px si a√∫n lo ves grande */
        }

        /* Tama√±o de letra para tabla */
        table {
            font-size: 11px;
        }

        table th,
        table td {
            padding: 4px 6px;
        }
    </style>

    {% if machines %}

    <table class="table table-bordered">
        <thead>
            <tr class="">
                <th class="text-center">Ficha</th>
                <th>Servicios</th>
                <th>Cliente</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th class="text-end">Precio (Bs.)</th>
                <th>Fecha</th>

            </tr>
        </thead>
        <tbody>
            {% for m in machines %}
            <tr>
                <td class="text-center">{{ m.ticket }}</td>
                <td>

                    {% if m.services.all %}
                    {{m.services.all|join:"<br>"|default:"-------"}}
                    {% else %}
                    -------
                    {% endif %}
                </td>
                <td>{{m.client}}</td>
                <td>{{ m.brand|default:"-----" }}</td>
                <td>{{ m.model|default:"-----" }}</td>
                <td class="text-end">{{ m.price|default:0.00 }}</td>
                <td>{{ m.created_at|date:"d/m/Y" }}</td>
                {% endfor %}
            </tr>
            <tr>
                <td colspan="4" class="border-0"></td>
                <td colspan="2" class="text-end fw-bold fs-5 border-0">
                    <strong>Total: </strong> {{ total|default:"0.00" }}
                </td>

                <!-- Columna Bs. -->
                <td class="border-0 fs-5">Bs.-</td>
            </tr>
        </tbody>
    </table>
    <div class="text-center mt-3">
        <button class="btn btn-primary btn-sm" onclick="window.print()"><i class="bi bi-printer"></i> Imprimir</button>
        <!-- <a class="btn btn-primary" href="#" onclick="window.history.go(-1)" >üñ®Ô∏è Regresar</a> -->




    </div>


    {% endif %}


    <script src="{% static 'js/jquery-3.7.1.js' %}"></script>
    <script>
        $(document).ready(function () {
            $('#example').DataTable({
                order: [[0, 'desc']],
                language: {
                    url: "https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"

                }
            });
        });
    </script>

    <script src="{% static 'js/dataTables.js' %}"></script>
</body>

</html>